! Title: Hide Pay-to-Watch Content
! Description: Removes videos with "Pay to watch" buttons/badges and low view count
! Version: 1.1.1
! Last modified: 2025-11-30
! Expires: 10 weeks (update frequency)
! Homepage: https://github.com/trislett/ublock-hide-yt-paid-or-membersonly-content
! License: https://github.com/trislett/ublock-hide-yt-paid-or-membersonly-content/blob/master/LICENSE.md

! Matches "No views", "1 view", "999 views" but NOT "1K views", "1,000 views" or "1.1K views"
youtube.com##ytd-rich-item-renderer:has(#metadata-line:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))
youtube.com##ytd-rich-item-renderer:has(#metadata-line:has-text("No views"))
youtube.com##ytd-video-renderer:has(#metadata-line:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))
youtube.com##ytd-video-renderer:has(#metadata-line:has-text("No views"))
youtube.com##ytd-compact-video-renderer:has(#metadata-line:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))
youtube.com##ytd-compact-video-renderer:has(#metadata-line:has-text("No views"))
youtube.com##ytd-grid-video-renderer:has(#metadata-line:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))
youtube.com##ytd-grid-video-renderer:has(#metadata-line:has-text("No views"))

! Additional targeting for view count in different locations
youtube.com##ytd-rich-item-renderer:has(span.inline-metadata-item:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))
youtube.com##ytd-video-renderer:has(span.inline-metadata-item:has-text(/\b([1-9]|[1-9]\d|[1-9]\d{2}) views?\b/))

! Hide videos with "Pay to watch" badge/button
youtube.com##ytd-rich-item-renderer:has-text("Pay to watch")
youtube.com##ytd-video-renderer:has-text("Pay to watch")
youtube.com##ytd-compact-video-renderer:has-text("Pay to watch")
youtube.com##ytd-grid-video-renderer:has-text("Pay to watch")

! Hide videos with "Pay to watch" in metadata
youtube.com##ytd-rich-item-renderer:has(#metadata-line:has-text("Pay to watch"))
youtube.com##ytd-video-renderer:has(#metadata-line:has-text("Pay to watch"))

! Hide the specific pay-to-watch badge element
youtube.com##.badge-style-type-simple:has-text("Pay to watch")
youtube.com##ytd-badge-supported-renderer:has-text("Pay to watch")

! Hide entire video containers that contain pay-to-watch elements
youtube.com##ytd-rich-item-renderer:has(.badge-style-type-simple:has-text("Pay to watch"))
youtube.com##ytd-video-renderer:has(.badge-style-type-simple:has-text("Pay to watch"))

! Target thumbnail overlays and badges
youtube.com##ytd-rich-item-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Pay to watch"))
youtube.com##ytd-video-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Pay to watch"))
youtube.com##ytd-compact-video-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Pay to watch"))

! Target badge containers
youtube.com##ytd-rich-item-renderer:has(#badges:has-text("Pay to watch"))
youtube.com##ytd-video-renderer:has(#badges:has-text("Pay to watch"))

! Hide from search results
youtube.com##ytd-video-renderer.ytd-item-section-renderer:has-text("Pay to watch")

! Hide from home page
youtube.com##ytd-rich-item-renderer.ytd-rich-grid-renderer:has-text("Pay to watch")

! Hide from recommended/sidebar
youtube.com##ytd-compact-video-renderer.ytd-watch-next-secondary-results-renderer:has-text("Pay to watch")

! Text-based matching
youtube.com##ytd-rich-item-renderer:has-text("Members only")
youtube.com##ytd-video-renderer:has-text("Members only")
youtube.com##ytd-compact-video-renderer:has-text("Members only")
youtube.com##ytd-grid-video-renderer:has-text("Members only")

! Aria-label matching
youtube.com##ytd-rich-item-renderer:has([aria-label*="Members only"])
youtube.com##ytd-video-renderer:has([aria-label*="Members only"])
youtube.com##ytd-compact-video-renderer:has([aria-label*="Members only"])

! Badge matching (NEW)
youtube.com##ytd-rich-item-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Members only"))
youtube.com##ytd-video-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Members only"))
youtube.com##ytd-compact-video-renderer:has(ytd-thumbnail-overlay-badge-renderer:has-text("Members only"))

! Badge container matching (NEW)
youtube.com##ytd-rich-item-renderer:has(#badges:has-text("Members only"))
youtube.com##ytd-video-renderer:has(#badges:has-text("Members only"))

! Alternative text variations (NEW)
youtube.com##ytd-rich-item-renderer:has-text("Member-only")
youtube.com##ytd-video-renderer:has-text("Member-only")
youtube.com##ytd-rich-item-renderer:has-text("Membership")
youtube.com##ytd-video-renderer:has-text("Membership")

! Mobile YouTube
m.youtube.com##.compact-media-item:has-text("Pay to watch")
m.youtube.com##.media-item:has-text("Pay to watch")
m.youtube.com##.compact-media-item:has-text("Members only")
m.youtube.com##.media-item:has-text("Members only")

! Hide premium badges and indicators
youtube.com##ytd-rich-item-renderer:has(.badge-style-type-simple):has-text("Premium")
youtube.com##ytd-video-renderer:has(.badge-style-type-simple):has-text("Premium")
youtube.com##ytd-compact-video-renderer:has(.badge-style-type-simple):has-text("Premium")

! Hide channel membership content
youtube.com##ytd-rich-item-renderer:has([aria-label*="Members only"])
youtube.com##ytd-video-renderer:has([aria-label*="Members only"])
youtube.com##ytd-rich-item-renderer:has-text("Members only")
youtube.com##ytd-video-renderer:has-text("Members only")
